{
  // ============================================================================
  // Editor Settings
  // ============================================================================
  "editor.bracketPairColorization.enabled": true,
  "editor.fontFamily": "FiraCode Nerd Font",
  "editor.fontLigatures": true,
  "editor.guides.bracketPairs": true,
  "editor.guides.bracketPairsHorizontal": true,
  "editor.guides.highlightActiveBracketPair": true,
  "editor.hover.delay": 1500,
  "editor.stickyScroll.enabled": true,
  "editor.rulers": [80, 120],
  "editor.renderWhitespace": "boundary",
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll": "explicit"
  },

  // ============================================================================
  // File Explorer
  // ============================================================================
  "explorer.autoReveal": true,
  "explorer.confirmDelete": false,
  "explorer.confirmDragAndDrop": false,
  "explorer.sortOrder": "type",
  "explorer.fileNesting.enabled": true,
  "explorer.fileNesting.patterns": {
    "*.yaml": "${capture}.enc.yaml, ${capture}.sops.yaml",
    "application.yaml": "values.yaml, secrets.yaml, kustomization.yaml",
    "Taskfile.yaml": "Taskfile.*.yaml",
    "README.md": "*.md"
  },

  // ============================================================================
  // File Associations
  // ============================================================================
  "files.associations": {
    "**/*.json5": "json5",
    "**/*.yaml.j2": "yaml",
    "**/*.enc.yaml": "yaml",
    "**/*.sops.yaml": "yaml",
    "**/Taskfile*.yaml": "yaml",
    "**/.sops.yaml": "yaml",
    "**/talosconfig": "yaml",
    "**/kubeconfig": "yaml",
    "**/kustomization.yaml": "yaml",
    "**/helmfile.yaml": "yaml"
  },
  "files.trimTrailingWhitespace": true,
  "files.insertFinalNewline": true,
  "files.trimFinalNewlines": true,
  "files.exclude": {
    "**/.DS_Store": true,
    "**/node_modules": true,
    "**/.git": false
  },

  // ============================================================================
  // Search Settings
  // ============================================================================
  "search.exclude": {
    "**/.git": true,
    "**/node_modules": true,
    "**/*.lock": true,
    "**/*.log": true,
    "**/Brewfile.lock.json": true,
    "**/infra/talos/generated": true,
    "**/infra/talos/old-cluster-backup": true
  },

  // ============================================================================
  // Material Icon Theme - File Associations
  // ============================================================================
  "material-icon-theme.files.associations": {
    "*.enc.yaml": "lock",
    "*.sops.yaml": "lock",
    ".sops.yaml": "lock",
    "helmfile.yaml": "helm",
    "kubeconfig": "kubernetes",
    "talosconfig": "kubernetes",
    "Taskfile.yaml": "gulp",
    "kustomization.yaml": "kubernetes",
    "application.yaml": "kubernetes",
    "bootstrap.yaml": "ansible",
    "values.yaml": "helm"
  },

  // ============================================================================
  // Material Icon Theme - Folder Associations
  // ============================================================================
  "material-icon-theme.folders.associations": {
    // Top level directories
    ".github": "github",
    ".github/workflows": "ci",
    ".taskfiles": "gulp",
    ".vscode": "vscode",
    "docs": "docs",
    "infra": "config",
    "apps": "app",
    "argocd": "pipe",
    "stacks": "docker",

    // Infra subdirectories
    "ansible": "ansible",
    "talos": "linux",
    "terraform": "terraform",
    "k8s": "kubernetes",

    // Infrastructure categories (new structure)
    "networking": "connection",
    "storage": "dump",
    "security": "guard",
    "monitoring": "log",
    "cluster-management": "command",
    "operators": "robot",

    // Application categories (new structure)
    "media": "video",
    "data": "database",
    "auth": "guard",
    "communication": "messages",
    "productivity": "tools",
    "home-automation": "home",

    // Specific applications/services
    "arc-runners": "github",
    "arc-systems": "github",
    "cert-manager": "guard",
    "cilium": "connection",
    "cloudflare-ingress": "cloudflare",
    "crunchy-postgres-cluster": "database",
    "crunchy-postgres-operator": "database",
    "envoy-gateway": "connection",
    "external-dns": "connection",
    "external-secrets": "secure",
    "flaresolverr": "cloudflare",
    "grafana": "log",
    "kube-prometheus-stack": "log",
    "longhorn-system": "dump",
    "rook-ceph-operator": "dump",
    "rook-ceph-cluster": "dump",
    "metrics-server": "log",
    "multus": "connection",
    "one-password": "guard",
    "reloader": "update",
    "sealed-secrets": "guard",
    "spegel": "docker",
    "volsync-system": "sync",
    "authelia": "guard",
    "lldap": "database",
    "radarr": "video",
    "sonarr": "video",
    "bazarr": "video",
    "prowlarr": "video",
    "qbittorrent": "download",
    "nzbget": "download",
    "jellyfin": "video"
  },

  // ============================================================================
  // YAML Language Server
  // ============================================================================
  "yaml.schemas": {
    "https://json.schemastore.org/github-workflow.json": ".github/workflows/*.yaml",
    "https://json.schemastore.org/kustomization.json": "kustomization.yaml",
    "https://raw.githubusercontent.com/argoproj/argo-cd/master/manifests/crds/application-crd.yaml": "**/application.yaml",
    "https://taskfile.dev/schema.json": [
      "Taskfile.yaml",
      "Taskfile.*.yaml",
      ".taskfiles/**/Taskfile.yaml"
    ]
  },
  "yaml.format.enable": true,
  "yaml.format.singleQuote": false,
  "yaml.format.bracketSpacing": true,
  "yaml.validate": true,
  "yaml.completion": true,
  "yaml.hover": true,
  "yaml.customTags": [
    "!reference sequence",
    "!vault scalar"
  ],

  // ============================================================================
  // Kubernetes Extension
  // ============================================================================
  "vs-kubernetes": {
    "vs-kubernetes.kubeconfig": "~/kubeconfig",
    "vs-kubernetes.knownKubeconfigs": [],
    "vs-kubernetes.kubectl-path.mac": "/opt/homebrew/bin/kubectl",
    "vs-kubernetes.helm-path.mac": "/opt/homebrew/bin/helm",
    "vscode-kubernetes.minikube-path.mac": "/opt/homebrew/bin/minikube"
  },
  "vscode-kubernetes.kubectl.showDebugRaw": false,

  // ============================================================================
  // SOPS (Secret Operations)
  // ============================================================================
  "sops.defaults.ageKeyFile": "~/.config/age/age.key",
  "sops.defaults.awsProfile": "",
  "sops.defaults.gcp_kms_resource_id": "",

  // ============================================================================
  // Git Settings
  // ============================================================================
  "git.autofetch": true,
  "git.confirmSync": false,
  "git.enableSmartCommit": true,
  "git.ignoreRebaseWarning": true,
  "git.inputValidationLength": 72,
  "git.inputValidationSubjectLength": 50,

  // ============================================================================
  // Language-Specific Settings
  // ============================================================================
  "[yaml]": {
    "editor.defaultFormatter": "redhat.vscode-yaml",
    "editor.tabSize": 2,
    "editor.insertSpaces": true,
    "editor.autoIndent": "advanced"
  },
  "[json]": {
    "editor.defaultFormatter": "vscode.json-language-features",
    "editor.tabSize": 2
  },
  "[jsonc]": {
    "editor.defaultFormatter": "vscode.json-language-features",
    "editor.tabSize": 2
  },
  "[markdown]": {
    "editor.defaultFormatter": "yzhang.markdown-all-in-one",
    "editor.wordWrap": "on",
    "editor.quickSuggestions": {
      "comments": "off",
      "strings": "off",
      "other": "off"
    }
  },
  "[shellscript]": {
    "editor.defaultFormatter": "foxundermoon.shell-format",
    "editor.tabSize": 2
  },
  "[dockerfile]": {
    "editor.defaultFormatter": "ms-azuretools.vscode-docker"
  },
  "[terraform]": {
    "editor.defaultFormatter": "hashicorp.terraform",
    "editor.formatOnSave": true
  },

  // ============================================================================
  // Ansible
  // ============================================================================
  "ansible.python.interpreterPath": "/opt/homebrew/bin/python3",
  "ansible.validation.enabled": true,
  "ansible.validation.lint.enabled": true,

  // ============================================================================
  // Better Comments (Color-coded comments)
  // ============================================================================
  "better-comments.tags": [
    {
      "tag": "!",
      "color": "#FF2D00",
      "strikethrough": false,
      "underline": false,
      "backgroundColor": "transparent",
      "bold": false,
      "italic": false
    },
    {
      "tag": "?",
      "color": "#3498DB",
      "strikethrough": false,
      "underline": false,
      "backgroundColor": "transparent",
      "bold": false,
      "italic": false
    },
    {
      "tag": "//",
      "color": "#474747",
      "strikethrough": true,
      "underline": false,
      "backgroundColor": "transparent",
      "bold": false,
      "italic": false
    },
    {
      "tag": "TODO",
      "color": "#FF8C00",
      "strikethrough": false,
      "underline": false,
      "backgroundColor": "transparent",
      "bold": false,
      "italic": false
    },
    {
      "tag": "FIXME",
      "color": "#FF2D00",
      "strikethrough": false,
      "underline": false,
      "backgroundColor": "transparent",
      "bold": true,
      "italic": false
    },
    {
      "tag": "NOTE",
      "color": "#98C379",
      "strikethrough": false,
      "underline": false,
      "backgroundColor": "transparent",
      "bold": false,
      "italic": false
    }
  ],

  // ============================================================================
  // Terminal
  // ============================================================================
  "terminal.integrated.fontFamily": "FiraCode Nerd Font",
  "terminal.integrated.fontSize": 13,
  "terminal.integrated.defaultProfile.osx": "zsh",
  "terminal.integrated.env.osx": {
    "KUBECONFIG": "${env:HOME}/kubeconfig",
    "SOPS_AGE_KEY_FILE": "${env:HOME}/.config/age/age.key"
  },

  // ============================================================================
  // Security
  // ============================================================================
  "security.workspace.trust.untrustedFiles": "open",

  // ============================================================================
  // Misc
  // ============================================================================
  "workbench.iconTheme": "material-icon-theme",
  "workbench.startupEditor": "none",
  "telemetry.telemetryLevel": "off"
}
