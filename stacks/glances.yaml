version: '3.8'

services:
  glances:
    image: nicolargo/glances:4.3.3
    container_name: glances
    restart: unless-stopped
    network_mode: bridge
    ports:
      - "61208:61208"
    environment:
      - GLANCES_OPT=-w
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - /mnt/cache_pool/appdata/glances:/glances
      - /etc/ssl/certs:/etc/ssl/certs:ro
    deploy:
      resources:
        limits:
          cpus: "1.0"
          memory: 512M
        reservations:
          cpus: "0.5"
          memory: 128M
    labels:
      - "net.unraid.docker.icon=https://github.com/nicolargo/glances/raw/master/docs/_static/glances.png"
