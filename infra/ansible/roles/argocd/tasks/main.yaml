---
# Install and configure ArgoCD

- name: Setup ArgoCD secrets
  ansible.builtin.import_tasks: setup_secrets.yaml
  tags: [argocd, secrets]

- name: Install ArgoCD
  ansible.builtin.import_tasks: install_argocd.yaml
  tags: [argocd, install]

- name: Apply ArgoCD applications
  ansible.builtin.import_tasks: apply_applications.yaml
  tags: [argocd, applications]

- name: Verify critical infrastructure
  ansible.builtin.import_tasks: verify_infrastructure.yaml
  tags: [argocd, verify]
