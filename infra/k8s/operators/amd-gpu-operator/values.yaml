# AMD GPU Operator Configuration for Talos OS

# Node Feature Discovery - auto-label nodes with AMD GPUs
node-feature-discovery:
  enabled: true

# Kernel Module Management - keep enabled to install CRDs (operator controller needs them)
# The driver is disabled in DeviceConfig since Talos provides drivers via system extensions
kmm:
  enabled: true

# Install default DeviceConfig automatically
crds:
  defaultCR:
    install: true

# Controller resources
controllerManager:
  manager:
    resources:
      limits:
        cpu: 1000m
        memory: 1Gi
      requests:
        cpu: 100m
        memory: 256Mi
