version: '3.8'

services:
  glances:
    image: nicolargo/glances:4.4.1@sha256:61ebee509671ff6cda921b057dda9783c53e3e31673a89d988ef2d53572196ab
    container_name: glances
    restart: unless-stopped
    network_mode: bridge
    ports:
      - "61208:61208"
    environment:
      - GLANCES_OPT=-w
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - /mnt/blaze/appdata/glances:/glances
      - /etc/ssl/certs:/etc/ssl/certs:ro
      - /:/rootfs
      - /etc/os-release:/etc/os-release
    pid: "host"
    deploy:
      resources:
        limits:
          cpus: "1.0"
          memory: 512M
        reservations:
          cpus: "0.5"
          memory: 128M
    labels:
      - "net.unraid.docker.icon=https://raw.githubusercontent.com/nicolargo/glances/master/glances/outputs/static/images/glances.png"
