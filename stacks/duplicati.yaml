version: "3.8"

services:
  duplicati:
    image: lscr.io/linuxserver/duplicati:2.1.0
    container_name: duplicati
    network_mode: bridge
    ports:
      - "8200:8200"
    environment:
      - PUID=99
      - PGID=100
      - UMASK=022
      - TZ=Europe/Amsterdam
      - SETTINGS__ENCRYPTION__KEY=your_encryption_key_here  # Replace with your actual key
      - DUPLICATI__WEBSERVICE__PASSWORD=your_password_here  # Optional, or set in Web UI
    volumes:
      - /mnt/user/backups:/backups
      - /mnt/user:/source
      - /mnt/cache/appdata/duplicati:/config
    restart: unless-stopped
    labels:
      - "net.unraid.docker.icon=https://raw.githubusercontent.com/linuxserver/docker-templates/master/linuxserver.io/img/duplicati-logo.png"
